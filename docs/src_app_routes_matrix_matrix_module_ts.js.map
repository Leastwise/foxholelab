{"version":3,"file":"src_app_routes_matrix_matrix_module_ts.js","mappings":"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","sources":["./src/app/routes/matrix/matrix-routing.module.ts","./src/app/routes/matrix/matrix.component.ts","./src/app/routes/matrix/matrix.component.html","./src/app/routes/matrix/matrix.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { MatrixComponent } from './matrix.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MatrixComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MatrixRoutingModule {}\r\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { combineLatest, map } from 'rxjs';\r\n\r\nimport { Column } from '~/models';\r\nimport { LabState, Preferences, Products, Recipes, Settings } from '~/store';\r\n\r\n@Component({\r\n  selector: 'lab-matrix',\r\n  templateUrl: './matrix.component.html',\r\n  styleUrls: ['./matrix.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MatrixComponent {\r\n  vm$ = combineLatest([\r\n    this.store.select(Products.getMatrixResult),\r\n    this.store.select(Recipes.getRecipesModified),\r\n    this.store.select(Recipes.getAdjustedDataset),\r\n    this.store.select(Recipes.recipesState),\r\n    this.store.select(Settings.getSettingsModified),\r\n    this.store.select(Settings.settingsState),\r\n    this.store.select(Preferences.getColumns),\r\n  ]).pipe(\r\n    map(\r\n      ([\r\n        result,\r\n        recipesModified,\r\n        data,\r\n        recipeRaw,\r\n        settingsModified,\r\n        settings,\r\n        columns,\r\n      ]) => ({\r\n        result,\r\n        recipesModified,\r\n        data,\r\n        recipeRaw,\r\n        settingsModified,\r\n        settings,\r\n        precision: columns[Column.Items].precision,\r\n      })\r\n    )\r\n  );\r\n\r\n  constructor(private store: Store<LabState>) {}\r\n\r\n  /** Action Dispatch Methods */\r\n  setCostFactor(data: string): void {\r\n    this.store.dispatch(new Settings.SetCostFactorAction(data));\r\n  }\r\n\r\n  setCostFactory(data: string): void {\r\n    this.store.dispatch(new Settings.SetCostFactoryAction(data));\r\n  }\r\n\r\n  setCostInput(data: string): void {\r\n    this.store.dispatch(new Settings.SetCostInputAction(data));\r\n  }\r\n\r\n  setCostIgnored(data: string): void {\r\n    this.store.dispatch(new Settings.SetCostIgnoredAction(data));\r\n  }\r\n\r\n  setRecipeCost(id: string, value?: string): void {\r\n    this.store.dispatch(new Recipes.SetCostAction({ id, value }));\r\n  }\r\n\r\n  resetCost(): void {\r\n    this.store.dispatch(new Settings.ResetCostAction());\r\n  }\r\n\r\n  resetRecipeCost(): void {\r\n    this.store.dispatch(new Recipes.ResetCostAction());\r\n  }\r\n}\r\n","<ng-container *ngIf=\"vm$ | async as vm\">\r\n  <table class=\"result-info my-2\">\r\n    <tr>\r\n      <th colspan=\"2\">{{ 'matrix.statistics' | translate }}</th>\r\n    </tr>\r\n    <tr>\r\n      <th>{{ 'matrix.simplexResult' | translate }}</th>\r\n      <td>{{ vm.result.resultType }}</td>\r\n    </tr>\r\n    <tr *ngIf=\"vm.result.time != null\">\r\n      <th>{{ 'matrix.runtime' | translate }}</th>\r\n      <td>\r\n        {{ 'matrix.runtimeValue' | translate: { value: vm.result.time } }}\r\n      </td>\r\n    </tr>\r\n    <tr *ngIf=\"vm.result.pivots != null\">\r\n      <th>{{ 'matrix.pivots' | translate }}</th>\r\n      <td>{{ vm.result.pivots }}</td>\r\n    </tr>\r\n    <tr *ngIf=\"vm.result.A && vm.result.O\">\r\n      <th>{{ 'matrix.size' | translate }}</th>\r\n      <td>\r\n        {{\r\n          'matrix.sizeValue'\r\n            | translate: { rows: vm.result.A.length, cols: vm.result.O.length }\r\n        }}\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  <table class=\"result-info my-2\" *ngIf=\"vm.result.A\">\r\n    <tr>\r\n      <th colspan=\"2\">\r\n        <div class=\"d-flex align-items-center justify-content-between\">\r\n          <span>{{ 'matrix.costModifiers' | translate }}</span>\r\n          <button\r\n            pButton\r\n            pRipple\r\n            type=\"button\"\r\n            class=\"ms-3 p-button-outlined p-button-rounded\"\r\n            [class.invisible]=\"!vm.settingsModified.cost\"\r\n            icon=\"fa-solid fa-rotate-left\"\r\n            [pTooltip]=\"'matrix.costUndoTooltip' | translate\"\r\n            (click)=\"resetCost()\"\r\n          ></button>\r\n        </div>\r\n      </th>\r\n    </tr>\r\n    <tr [pTooltip]=\"'matrix.recipeCostTooltip' | translate\">\r\n      <th>{{ 'matrix.recipe' | translate }}</th>\r\n      <td>\r\n        <lab-input-number\r\n          width=\"8rem\"\r\n          [value]=\"vm.settings.costFactor\"\r\n          (setValue)=\"setCostFactor($event)\"\r\n        ></lab-input-number>\r\n      </td>\r\n    </tr>\r\n    <tr [pTooltip]=\"'matrix.factoryCostTooltip' | translate\">\r\n      <th>{{ 'matrix.factory' | translate }}</th>\r\n      <td>\r\n        <lab-input-number\r\n          width=\"8rem\"\r\n          [value]=\"vm.settings.costFactory\"\r\n          (setValue)=\"setCostFactory($event)\"\r\n        ></lab-input-number>\r\n      </td>\r\n    </tr>\r\n    <tr [pTooltip]=\"'matrix.inputCostTooltip' | translate\">\r\n      <th>{{ 'matrix.input' | translate }}</th>\r\n      <td>\r\n        <lab-input-number\r\n          width=\"8rem\"\r\n          [value]=\"vm.settings.costInput\"\r\n          (setValue)=\"setCostInput($event)\"\r\n        ></lab-input-number>\r\n      </td>\r\n    </tr>\r\n    <tr [pTooltip]=\"'matrix.ignoredCostTooltip' | translate\">\r\n      <th>{{ 'matrix.ignored' | translate }}</th>\r\n      <td>\r\n        <lab-input-number\r\n          width=\"8rem\"\r\n          [value]=\"vm.settings.costIgnored\"\r\n          (setValue)=\"setCostIgnored($event)\"\r\n        ></lab-input-number>\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  <ng-container\r\n    *ngIf=\"\r\n      vm.result.A &&\r\n      vm.result.O &&\r\n      vm.result.itemIds &&\r\n      vm.result.recipeIds &&\r\n      vm.result.inputIds\r\n    \"\r\n  >\r\n    <div>\r\n      <small>{{ 'matrix.tableauPrecisionNote' | translate }}</small>\r\n    </div>\r\n    <p-table\r\n      [scrollable]=\"true\"\r\n      scrollDirection=\"both\"\r\n      scrollHeight=\"80vh\"\r\n      styleClass=\"p-datatable-sm\"\r\n      [value]=\"vm.result.A\"\r\n    >\r\n      <ng-template pTemplate=\"header\">\r\n        <tr>\r\n          <th\r\n            [colSpan]=\"vm.result.O.length + 1\"\r\n            [style.width.rem]=\"4 * (vm.result.O.length + 2)\"\r\n          >\r\n            {{ 'matrix.simplexCanonicalTableau' | translate }}\r\n          </th>\r\n        </tr>\r\n        <tr>\r\n          <th style=\"width: 8rem\"></th>\r\n          <th\r\n            [colSpan]=\"vm.result.itemIds.length\"\r\n            [style.width.rem]=\"4 * vm.result.itemIds.length\"\r\n          >\r\n            {{ 'matrix.items' | translate }}\r\n          </th>\r\n          <th\r\n            [colSpan]=\"vm.result.recipeIds.length\"\r\n            [style.width.rem]=\"4 * vm.result.recipeIds.length\"\r\n          >\r\n            {{ 'matrix.recipes' | translate }}\r\n          </th>\r\n          <th\r\n            *ngIf=\"vm.result.inputIds.length\"\r\n            [colSpan]=\"vm.result.inputIds.length\"\r\n            [style.width.rem]=\"4 * vm.result.inputIds.length\"\r\n          >\r\n            {{ 'matrix.inputs' | translate }}\r\n          </th>\r\n          <th style=\"width: 8rem\"></th>\r\n        </tr>\r\n        <tr>\r\n          <th style=\"width: 4rem\"></th>\r\n          <th style=\"width: 4rem\">I</th>\r\n          <th *ngFor=\"let i of vm.result.itemIds\" style=\"width: 4rem\">\r\n            <i\r\n              [class]=\"i | iconClass\"\r\n              [pTooltip]=\"vm.data.itemEntities[i].name\"\r\n            ></i>\r\n          </th>\r\n          <th *ngFor=\"let i of vm.result.recipeIds\" style=\"width: 4rem\">\r\n            <i\r\n              [class]=\"i | iconClass: 'recipe'\"\r\n              [pTooltip]=\"vm.data.recipeEntities[i].name\"\r\n            ></i>\r\n          </th>\r\n          <th *ngFor=\"let i of vm.result.inputIds\" style=\"width: 4rem\">\r\n            <i\r\n              [class]=\"i | iconClass\"\r\n              [pTooltip]=\"vm.data.itemEntities[i].name\"\r\n            ></i>\r\n          </th>\r\n          <th style=\"width: 8rem\">\r\n            <div class=\"d-flex align-items-center justify-content-between\">\r\n              <span>{{ 'matrix.cost' | translate }}</span>\r\n              <button\r\n                pButton\r\n                pRipple\r\n                type=\"button\"\r\n                class=\"ms-3 p-button-outlined p-button-rounded\"\r\n                [class.invisible]=\"!vm.recipesModified.cost\"\r\n                icon=\"fa-solid fa-rotate-left\"\r\n                [pTooltip]=\"'matrix.costUndoTooltip' | translate\"\r\n                (click)=\"resetRecipeCost()\"\r\n              ></button>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\" let-row let-rowIndex=\"rowIndex\">\r\n        <tr>\r\n          <td\r\n            *ngIf=\"rowIndex !== 0; else objectiveRow\"\r\n            pFrozenColumn\r\n            style=\"width: 4rem\"\r\n          >\r\n            <ng-container\r\n              *ngIf=\"vm.result.recipeIds[rowIndex - 1] as id; else notRecipe\"\r\n            >\r\n              <i\r\n                [class]=\"id | iconClass: 'recipe'\"\r\n                [pTooltip]=\"vm.data.recipeEntities[id].name\"\r\n              ></i>\r\n            </ng-container>\r\n            <ng-template #notRecipe>\r\n              <i\r\n                *ngIf=\"\r\n                  vm.result.inputIds[\r\n                    rowIndex - 1 - vm.result.recipeIds.length\r\n                  ] as id\r\n                \"\r\n                [class]=\"id | iconClass\"\r\n                [pTooltip]=\"vm.data.itemEntities[id].name\"\r\n              ></i\r\n            ></ng-template>\r\n          </td>\r\n          <ng-template #objectiveRow>\r\n            <td pFrozenColumn class=\"fw-bold text-center\" style=\"width: 4rem\">\r\n              <div class=\"d-flex justify-content-center w-100\">\r\n                <i class=\"fa-solid fa-bullseye\"></i>\r\n              </div>\r\n            </td>\r\n          </ng-template>\r\n          <td\r\n            *ngFor=\"let c of row; last as last\"\r\n            [style.width.rem]=\"last ? 8 : 4\"\r\n          >\r\n            <div\r\n              *ngIf=\"\r\n                last && vm.result.recipeIds[rowIndex - 1] as id;\r\n                else valueCell\r\n              \"\r\n              class=\"d-flex align-items-center justify-content-between\"\r\n            >\r\n              <lab-input-number\r\n                [pTooltip]=\"'matrix.recipeCost' | translate\"\r\n                tooltipPosition=\"left\"\r\n                width=\"6rem\"\r\n                [hideButtons]=\"true\"\r\n                [value]=\"c.toString()\"\r\n                (setValue)=\"setRecipeCost(id, $event)\"\r\n              ></lab-input-number>\r\n              <button\r\n                pButton\r\n                pRipple\r\n                type=\"button\"\r\n                class=\"ms-3 p-button-outlined p-button-rounded\"\r\n                [class.invisible]=\"!vm.recipeRaw[id]?.cost\"\r\n                icon=\"fa-solid fa-rotate-left\"\r\n                [pTooltip]=\"'matrix.recipeCostUndoTooltip' | translate\"\r\n                tooltipPosition=\"left\"\r\n                (click)=\"setRecipeCost(id)\"\r\n              ></button>\r\n            </div>\r\n            <ng-template #valueCell>\r\n              <div\r\n                class=\"overflow-hidden text-truncate\"\r\n                [pTooltip]=\"c.toString(vm.precision)\"\r\n              >\r\n                {{ c.toString(vm.precision) }}\r\n              </div>\r\n            </ng-template>\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n    </p-table>\r\n    <p-table\r\n      [scrollable]=\"true\"\r\n      scrollDirection=\"both\"\r\n      styleClass=\"p-datatable-sm\"\r\n      [value]=\"[vm.result.O]\"\r\n    >\r\n      <ng-template pTemplate=\"header\">\r\n        <tr>\r\n          <th\r\n            [colSpan]=\"vm.result.O.length + 1\"\r\n            [style.width.rem]=\"4 * (vm.result.O.length + 2)\"\r\n          >\r\n            {{ 'matrix.solution' | translate }}\r\n          </th>\r\n        </tr>\r\n        <tr>\r\n          <th style=\"width: 8rem\"></th>\r\n          <th\r\n            [colSpan]=\"vm.result.itemIds.length\"\r\n            [style.width.rem]=\"4 * vm.result.itemIds.length\"\r\n          >\r\n            {{ 'matrix.surplus' | translate }}\r\n          </th>\r\n          <th\r\n            [colSpan]=\"vm.result.recipeIds.length\"\r\n            [style.width.rem]=\"4 * vm.result.recipeIds.length\"\r\n          >\r\n            {{ 'matrix.recipes' | translate }}\r\n          </th>\r\n          <th\r\n            *ngIf=\"vm.result.inputIds.length\"\r\n            [colSpan]=\"vm.result.inputIds.length\"\r\n            [style.width.rem]=\"4 * vm.result.inputIds.length\"\r\n          >\r\n            {{ 'matrix.inputs' | translate }}\r\n          </th>\r\n          <th style=\"width: 8rem\"></th>\r\n        </tr>\r\n        <tr>\r\n          <th style=\"width: 4rem\"></th>\r\n          <th style=\"width: 4rem\">\r\n            <div class=\"d-flex align-items-center h-100\"><span>I</span></div>\r\n          </th>\r\n          <th *ngFor=\"let i of vm.result.itemIds\">\r\n            <i\r\n              [class]=\"i | iconClass\"\r\n              [pTooltip]=\"vm.data.itemEntities[i].name\"\r\n            ></i>\r\n          </th>\r\n          <th *ngFor=\"let i of vm.result.recipeIds\">\r\n            <i\r\n              [class]=\"i | iconClass: 'recipe'\"\r\n              [pTooltip]=\"vm.data.recipeEntities[i].name\"\r\n            ></i>\r\n          </th>\r\n          <th *ngFor=\"let i of vm.result.inputIds\">\r\n            <i\r\n              [class]=\"i | iconClass\"\r\n              [pTooltip]=\"vm.data.itemEntities[i].name\"\r\n            ></i>\r\n          </th>\r\n          <th style=\"width: 8rem\">\r\n            <div class=\"d-flex align-items-center h-100\">\r\n              <span>{{ 'matrix.cost' | translate }}</span>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\" let-row let-rowIndex=\"rowIndex\">\r\n        <tr>\r\n          <td style=\"width: 4rem\"></td>\r\n          <td\r\n            *ngFor=\"let c of vm.result.O; last as last\"\r\n            [style.width.rem]=\"last ? 8 : 4\"\r\n          >\r\n            <div\r\n              class=\"overflow-hidden text-truncate\"\r\n              [pTooltip]=\"c.toString(vm.precision)\"\r\n            >\r\n              {{ c.toString(vm.precision) }}\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n    </p-table>\r\n  </ng-container>\r\n</ng-container>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppSharedModule } from '~/app-shared.module';\r\nimport { MatrixRoutingModule } from './matrix-routing.module';\r\nimport { MatrixComponent } from './matrix.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, AppSharedModule, MatrixRoutingModule],\r\n  declarations: [MatrixComponent],\r\n})\r\nexport class MatrixModule {}\r\n"],"names":["combineLatest","map","Column","Preferences","Products","Recipes","Settings","i0","_r42","c_r53","_r56","_r38","vm_r1","MatrixComponent","constructor","store","select","getMatrixResult","getRecipesModified","getAdjustedDataset","recipesState","getSettingsModified","settingsState","getColumns","pipe","result","recipesModified","data","recipeRaw","settingsModified","settings","columns","precision","Items","setCostFactor","dispatch","SetCostFactorAction","setCostFactory","SetCostFactoryAction","setCostInput","SetCostInputAction","setCostIgnored","SetCostIgnoredAction","setRecipeCost","id","value","SetCostAction","resetCost","ResetCostAction","resetRecipeCost","selectors","decls","vars","consts","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}